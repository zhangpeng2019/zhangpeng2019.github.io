<!DOCTYPE html>
<html>
    <head>
        <title>Unityå†…ç½®æ¸²æŸ“ç®¡çº¿-åŸºç¡€è¯­æ³• | é™ˆå·§å€©</title>
        <meta charset="utf-8">
<meta name="viewport" content="width=device-width,minimum-scale=1">









<link rel="stylesheet" href="/lib/icofont/icofont.min.css" />
<link rel="stylesheet" href="/css/syntax.css" />
<link rel="stylesheet" href="/css/style.css" />
<link rel="shortcut icon" href="/images/favicon.ico" type="image/x-icon" />

    </head>

    <body>
        <header class="header-wrapper">
    <div class="header">
        <a class="site-title" href="https://www.chenqiaoqian.com/">é™ˆå·§å€©</a>

        <ul class="menu">
            
        </ul>
    </div>
</header>

        <main class="main-wrapper">
            <div class="main">
                

<section class="single">
    <h1 class="title">Unityå†…ç½®æ¸²æŸ“ç®¡çº¿-åŸºç¡€è¯­æ³•</h1>

    <div class="tip">
        <time datetime="2023-07-03 11:13:34 &#43;0800 CST">2023/07/03</time>
        <span class="split">Â·</span>
        <span> 194 words </span>
        <span class="split">Â·</span>
        <span>
            1 minutes to read
        </span>
    </div>

    <div class="taxonomies">
        
        <div>
            Categories:
            
                <a href="/categories/unity">Unity</a>
            
        </div>
        

        
            <div>
                Tags:
                
                    <a href="/tags/buildin-render-pipeline">BuildIn Render Pipeline</a>
                
            </div>
        
    </div>

    <hr />

    <div class="content">
        <p>Shader(ç€è‰²å™¨)æ˜¯ç”¨æ¥å®ç°å›¾åƒæ¸²æŸ“çš„ï¼Œç”¨æ¥æ›¿ä»£å›ºå®šæ¸²æŸ“ç®¡çº¿çš„å¯ç¼–è¾‘ç¨‹åºã€‚</p>
<h2 id="unity-shaderåŸºç¡€">Unity ShaderåŸºç¡€ <a href="#unity-shader%e5%9f%ba%e7%a1%80" class="anchor">ğŸ”—</a></h2><h3 id="å¼€å‘è¯­è¨€">å¼€å‘è¯­è¨€ <a href="#%e5%bc%80%e5%8f%91%e8%af%ad%e8%a8%80" class="anchor">ğŸ”—</a></h3><p>åœ¨Unityä¸­ï¼Œæ‰€æœ‰çš„Unity Shaderéƒ½é€šè¿‡ShaderLabæ¥ç¼–å†™ã€‚ShaderLabæ˜¯Unityæä¾›ç¼–å†™Unity Shaderçš„ä¸€ç§è¯´æ˜æ€§è¯­è¨€ã€‚åœ¨Unityä¸­é€šå¸¸ä½¿ç”¨ç€è‰²å™¨è¯­è¨€CGå’ŒHLSLåµŒå…¥è¿›ShaderLabä¸­ã€‚</p>
<h3 id="å¼€å‘å·¥å…·">å¼€å‘å·¥å…· <a href="#%e5%bc%80%e5%8f%91%e5%b7%a5%e5%85%b7" class="anchor">ğŸ”—</a></h3><p>Shaderä»£ç ç¼–å†™æ¨èä½¿ç”¨VSCode + ShaderlabVSCode(Free)</p>
<p><img src="/2023-07-03-unity-buildin-renderpipeline-base/2023-07-03-unity-buildin-renderpipeline-base-1.gif" alt=""></p>
<h3 id="ä¸‹è½½build-in-shaders">ä¸‹è½½Build In Shaders <a href="#%e4%b8%8b%e8%bd%bdbuild-in-shaders" class="anchor">ğŸ”—</a></h3><p><img src="/2023-07-03-unity-buildin-renderpipeline-base/2023-07-03-unity-buildin-renderpipeline-base-2.png" alt=""></p>
<p>åœ¨Unityå®˜ç½‘ä¸‹è½½Build In Shadersåˆé›†ï¼Œä»¥ä¾¿å‚è€ƒã€‚</p>
<h3 id="å®ä¾‹">å®ä¾‹ <a href="#%e5%ae%9e%e4%be%8b" class="anchor">ğŸ”—</a></h3><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c#" data-lang="c#"><span style="display:flex;"><span>Shader <span style="color:#e6db74">&#34;Study/Hello&#34;</span><span style="color:#75715e">//Shaderçš„çœŸæ­£åå­—  å¯ä»¥æ˜¯è·¯å¾„å¼çš„æ ¼å¼</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/*æè´¨çƒå‚æ•°åŠUIé¢æ¿
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">	https://docs.unity3d.com/cn/current/Manual/SL-Properties.html
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">	https://docs.unity3d.com/cn/current/ScriptReference/MaterialPropertyDrawer.html
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">	https://zhuanlan.zhihu.com/p/93194054
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">	*/</span>
</span></span><span style="display:flex;"><span>    Properties
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        _MainTex (<span style="color:#e6db74">&#34;Texture&#34;</span>, <span style="color:#ae81ff">2D</span>) = <span style="color:#e6db74">&#34;white&#34;</span> {}
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/*
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">	è¿™æ˜¯ä¸ºäº†è®©ä½ å¯ä»¥åœ¨ä¸€ä¸ªShaderæ–‡ä»¶ä¸­å†™å¤šç§ç‰ˆæœ¬çš„Shaderï¼Œä½†åªæœ‰ä¸€ä¸ªä¼šè¢«ä½¿ç”¨ã€‚
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">	æä¾›å¤šä¸ªç‰ˆæœ¬çš„SubShaderï¼ŒUnityå¯ä»¥æ ¹æ®å¯¹åº”å¹³å°é€‰æ‹©æœ€åˆé€‚çš„Shaderã€‚
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">	*/</span>
</span></span><span style="display:flex;"><span>    SubShader
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>		<span style="color:#75715e">/*
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">		æ ‡ç­¾å±æ€§ï¼Œæœ‰ä¸¤ç§ï¼šä¸€ç§æ˜¯SubShaderå±‚çº§ï¼Œä¸€ç§åœ¨Passå±‚çº§
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">		https://docs.unity3d.com/cn/current/Manual/SL-SubShaderTags.html
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">		https://docs.unity3d.com/cn/current/Manual/SL-PassTags.html
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">		*/</span>
</span></span><span style="display:flex;"><span>        Tags { <span style="color:#e6db74">&#34;RenderType&#34;</span>=<span style="color:#e6db74">&#34;Opaque&#34;</span> }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		<span style="color:#75715e">/*
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">		Passé‡Œé¢çš„å†…å®¹Shaderä»£ç çœŸæ­£èµ·ä½œç”¨çš„åœ°æ–¹ï¼Œ
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">		ä¸€ä¸ªPasså¯¹åº”ä¸€ä¸ªçœŸæ­£æ„ä¹‰ä¸Šè¿è¡Œåœ¨GPUä¸Šçš„å®Œæ•´ç€è‰²å™¨(Vertex-Fragment Shader)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">		ä¸€ä¸ªSubShaderé‡Œé¢å¯ä»¥åŒ…å«å¤šä¸ªPassï¼Œæ¯ä¸ªPassä¼šè¢«æŒ‰é¡ºåºæ‰§è¡Œ
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">		*/</span>
</span></span><span style="display:flex;"><span>        Pass
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            CGPROGRAM<span style="color:#75715e">//Shaderä»£ç ä»è¿™é‡Œå¼€å§‹ï¼Œä»¥ä¸‹ä¸ºCGç€è‰²è¯­è¨€</span>
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">#pragma vertex vert</span>
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">#pragma fragment frag</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#960050;background-color:#1e0010">#</span>include <span style="color:#e6db74">&#34;UnityCG.cginc&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>			<span style="color:#75715e">//https://docs.unity3d.com/Manual/SL-VertexProgramInputs.html</span>
</span></span><span style="display:flex;"><span>			<span style="color:#66d9ef">struct</span> <span style="color:#a6e22e">appdata</span>  <span style="color:#75715e">//CPUå‘é¡¶ç‚¹Shaderæä¾›çš„æ¨¡å‹æ•°æ®</span>
</span></span><span style="display:flex;"><span>			{
</span></span><span style="display:flex;"><span>				<span style="color:#75715e">//å†’å·åé¢çš„æ˜¯ç‰¹å®šè¯­ä¹‰è¯ï¼Œå‘Šè¯‰CPUéœ€è¦å“ªäº›ç±»ä¼¼çš„æ•°æ®</span>
</span></span><span style="display:flex;"><span>				float4 vertex : POSITION; <span style="color:#75715e">//æ¨¡å‹ç©ºé—´é¡¶ç‚¹åæ ‡</span>
</span></span><span style="display:flex;"><span>				half2 texcoord0 : TEXCOORD0; <span style="color:#75715e">//ç¬¬ä¸€å¥—UV</span>
</span></span><span style="display:flex;"><span>				half2 texcoord1 : TEXCOORD1; <span style="color:#75715e">//ç¬¬äºŒå¥—UV</span>
</span></span><span style="display:flex;"><span>				half2 texcoord2 : TEXCOORD2; <span style="color:#75715e">//ç¬¬äºŒå¥—UV</span>
</span></span><span style="display:flex;"><span>				half2 texcoord4 : TEXCOORD3;  <span style="color:#75715e">//æ¨¡å‹æœ€å¤šåªèƒ½æœ‰4å¥—UV</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>				half4 color : COLOR; <span style="color:#75715e">//é¡¶ç‚¹é¢œè‰²</span>
</span></span><span style="display:flex;"><span>				half3 normal : NORMAL; <span style="color:#75715e">//é¡¶ç‚¹æ³•çº¿</span>
</span></span><span style="display:flex;"><span>				half4 tangent : TANGENT; <span style="color:#75715e">//é¡¶ç‚¹åˆ‡çº¿(æ¨¡å‹å¯¼å…¥Unityåè‡ªåŠ¨è®¡ç®—å¾—åˆ°)</span>
</span></span><span style="display:flex;"><span>			};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">struct</span> <span style="color:#a6e22e">v2f</span>  <span style="color:#75715e">//è‡ªå®šä¹‰æ•°æ®ç»“æ„ä½“ï¼Œé¡¶ç‚¹ç€è‰²å™¨è¾“å‡ºçš„æ•°æ®ï¼Œä¹Ÿæ˜¯ç‰‡å…ƒç€è‰²å™¨è¾“å…¥æ•°æ®</span>
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                float4 vertex : SV_POSITION;<span style="color:#75715e">//è¾“å‡ºè£å‰ªç©ºé—´ä¸‹çš„é¡¶ç‚¹åæ ‡æ•°æ®ï¼Œç»™å…‰æ …åŒ–ä½¿ç”¨ï¼Œå¿…é¡»è¦å†™çš„æ•°æ®</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>                <span style="color:#75715e">//æ³¨æ„è·Ÿä¸Šæ–¹çš„TEXCOORDçš„æ„ä¹‰æ˜¯ä¸ä¸€æ ·çš„ï¼Œä¸Šæ–¹ä»£è¡¨çš„æ˜¯UVï¼Œè¿™é‡Œå¯ä»¥æ˜¯ä»»æ„æ•°æ®ã€‚</span>
</span></span><span style="display:flex;"><span>				<span style="color:#75715e">//æ’å€¼å™¨ï¼šè¾“å‡ºåä¼šè¢«å…‰æ …åŒ–è¿›è¡Œæ’å€¼ï¼Œè€Œåä½œä¸ºè¾“å…¥æ•°æ®ï¼Œè¿›å…¥ç‰‡å…ƒShader</span>
</span></span><span style="display:flex;"><span>				<span style="color:#75715e">//æœ€å¤šå¯ä»¥å†™16ä¸ªï¼šTEXCOORD0 ~ TEXCOORD15ã€‚</span>
</span></span><span style="display:flex;"><span>                float2 uv : TEXCOORD0;<span style="color:#75715e">//è‡ªå®šä¹‰æ•°æ®ä½“</span>
</span></span><span style="display:flex;"><span>            };
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>			<span style="color:#75715e">/*
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">			Shaderå†…çš„å˜é‡å£°æ˜ï¼Œå¦‚æœè·Ÿä¸Šé¢Propertiesæ¨¡å—å†…çš„å‚æ•°åŒåï¼Œå°±å¯ä»¥äº§ç”Ÿé“¾æ¥
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">			*/</span>
</span></span><span style="display:flex;"><span>            sampler2D _MainTex;
</span></span><span style="display:flex;"><span>            float4 _MainTex_ST;<span style="color:#75715e">//çº¹ç†åæ ‡_STå›ºå®šå†™æ³•</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            v2f vert (appdata v)
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                v2f o;
</span></span><span style="display:flex;"><span>                o.vertex = UnityObjectToClipPos(v.vertex);
</span></span><span style="display:flex;"><span>                o.uv = TRANSFORM_TEX(v.texcoord0, _MainTex);
</span></span><span style="display:flex;"><span>                UNITY_TRANSFER_FOG(o,o.vertex);
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">return</span> o;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            fixed4 frag (v2f i) : SV_Target
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                fixed4 col = tex2D(_MainTex, i.uv);
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">return</span> col;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            ENDCG
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h4 id="properties">Properties <a href="#properties" class="anchor">ğŸ”—</a></h4><p>Propertiesè¯­ä¹‰å—åŒ…å«äº†ä¸€ç³»åˆ—å±æ€§ï¼Œè¿™äº›å±æ€§ä¼šæ˜¾å¼çš„å‡ºç°åœ¨æè´¨é¢æ¿ä¸­ã€‚ä¾¿äºå¼€å‘è€…åœ¨æè´¨é¢æ¿ä¸­èƒ½å¤Ÿæ–¹ä¾¿åœ°è°ƒæ•´å„ç§æè´¨å±æ€§ã€‚</p>
<p><img src="/2023-07-03-unity-buildin-renderpipeline-base/2023-07-03-unity-buildin-renderpipeline-base-5.png" alt=""></p>
<h4 id="subshader">SubShader <a href="#subshader" class="anchor">ğŸ”—</a></h4><p>ä¸€ä¸ªUnity Shaderæ–‡ä»¶è‡³å°‘åŒ…å«ä¸€ä¸ªSubShaderè¯­ä¹‰å—ã€‚åŠ è½½æ—¶ï¼Œunityä¼šæ‰«ææ‰€æœ‰çš„SubShaderè¯­ä¹‰å—ï¼Œå¹¶é€‰æ‹©ç¬¬ä¸€ä¸ªèƒ½åœ¨ç›®æ ‡å¹³å°ä¸Šè¿è¡Œçš„SubShaderã€‚å¦‚æœéƒ½ä¸æ”¯æŒï¼Œä¼šä½¿ç”¨FallbackæŒ‡å®šçš„Unity Shaderã€‚</p>
<p>ä»…åœ¨SubShaderä¸­ä½¿ç”¨çš„Tag</p>
<p><img src="/2023-07-03-unity-buildin-renderpipeline-base/2023-07-03-unity-buildin-renderpipeline-base-6.png" alt=""></p>
<h4 id="æ¸²æŸ“çŠ¶æ€è®¾ç½®">æ¸²æŸ“çŠ¶æ€è®¾ç½® <a href="#%e6%b8%b2%e6%9f%93%e7%8a%b6%e6%80%81%e8%ae%be%e7%bd%ae" class="anchor">ğŸ”—</a></h4><p><img src="/2023-07-03-unity-buildin-renderpipeline-base/2023-07-03-unity-buildin-renderpipeline-base-4.png" alt=""></p>
<p>å¦‚æœåœ¨SubShaderå—ä¸­è®¾ç½®äº†çŠ¶æ€ï¼Œå°±ä¼šåº”ç”¨åˆ°å…¨éƒ¨çš„Passã€‚å¯ä»¥åœ¨Passä¸­å•ç‹¬è®¾ç½®çŠ¶æ€ã€‚</p>
<h4 id="pass">Pass <a href="#pass" class="anchor">ğŸ”—</a></h4><p>Shaderä»£ç çœŸæ­£èµ·ä½œç”¨çš„åœ°æ–¹ï¼Œä¸€ä¸ªPasså¯¹åº”ä¸€ä¸ªçœŸæ­£æ„ä¹‰ä¸Šè¿è¡Œåœ¨GPUä¸Šçš„å®Œæ•´ç€è‰²æµç¨‹ã€‚</p>
<p>ä»…åœ¨SubShaderä¸­ä½¿ç”¨çš„Tag</p>
<p><img src="/2023-07-03-unity-buildin-renderpipeline-base/2023-07-03-unity-buildin-renderpipeline-base-7.png" alt=""></p>
<p>ä¸€ä¸ªSubShaderé‡Œé¢å¯ä»¥åŒ…å«å¤šä¸ªPassï¼Œæ¯ä¸ªPassä¼šè¢«æŒ‰é¡ºåºæ‰§è¡Œã€‚</p>
<p><img src="/2023-07-03-unity-buildin-renderpipeline-base/2023-07-03-unity-buildin-renderpipeline-base-3.png" alt=""></p>
<h3 id="ç»“è®º">ç»“è®º <a href="#%e7%bb%93%e8%ae%ba" class="anchor">ğŸ”—</a></h3><p>æ¬ç –æ„‰å¿«ï¼</p>
    </div>

    
</section>


            </div>
            <div class="side">
                
                    <div class="side-recent">
    <h2 class="side-title">
        <a href="/post/">Recent Post</a>
    </h2>
    <hr />

    <ul>
        
            <li>
                <a href="/2023/07/03/2023-07-05-unity-mathematics-1/">æ¸¸æˆæ•°å­¦åŸºç¡€</a>
            </li>
        
            <li>
                <a href="/2023/07/03/buildin-renderpipeline-base/">Unityå†…ç½®æ¸²æŸ“ç®¡çº¿-åŸºç¡€è¯­æ³•</a>
            </li>
        
            <li>
                <a href="/2023/07/02/dots-concepts-and-principles/">Unity Dotsæ¦‚å¿µä¸åŸç†</a>
            </li>
        
            <li>
                <a href="/2023/07/01/buildin-renderpipeline-overview/">Unityå†…ç½®æ¸²æŸ“ç®¡çº¿-æ¦‚è¿°</a>
            </li>
        
            <li>
                <a href="/2023/06/17/designpattern-summary/">è®¾è®¡æ¨¡å¼-æ€»ç»“</a>
            </li>
        
    </ul>
</div>

                
                <div class="side-categories">
    <h2>Categories</h2>
    <hr />

    <ul>
        
            <li>
                <a href="/categories/csharp">csharp(24)</a>
            </li>
        
            <li>
                <a href="/categories/unity">unity(7)</a>
            </li>
        
    </ul>
</div>

                <div class="side-tags">
    <h2>Tags</h2>
    <hr />

    <ul>
        
            <li>
                <a href="/tags/buildin-render-pipeline">buildin-render-pipeline (2)</a>
            </li>
        
            <li>
                <a href="/tags/design-pattern">design-pattern (24)</a>
            </li>
        
            <li>
                <a href="/tags/dots">dots (1)</a>
            </li>
        
            <li>
                <a href="/tags/mathematics">mathematics (1)</a>
            </li>
        
            <li>
                <a href="/tags/notifications">notifications (1)</a>
            </li>
        
            <li>
                <a href="/tags/quadtree">quadtree (1)</a>
            </li>
        
            <li>
                <a href="/tags/texturepacker">texturepacker (1)</a>
            </li>
        
    </ul>
</div>

            </div>
        </main>
        <footer class="footer">
    <div class="footer-row">
        
            
            
                <a class="footer-item" href="https://www.chenqiaoqian.com/post/index.xml">
                    Feed of Post
                    <i class="icofont-rss"></i>
                </a>
            
        

        
            
            
        
    </div>

    
</footer>

    </body>
</html>
